<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}CS 3320{% endblock %}</title>

    <script type="text/javascript">
        WebFontConfig = {
            google: { families: [ 'Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic:latin' ] }
        };
        (function() {
            var wf = document.createElement('script');
            wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
            wf.type = 'text/javascript';
            wf.async = 'true';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wf, s);
        })();
      </script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    {# Use jsdelivr for Pure so we can use https instead of http #}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="/static/stylesheets/dropzone.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/pure/0.6.0/grids-responsive-min.css"
          media="screen and (min-width: 48em)">
    <link rel="stylesheet" href="/static/stylesheets/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/mustache.js/2.2.1/mustache.min.js"></script>
    <script src="/static/js/dropzone.js"></script>

    {# Set CSRF token and user ID #}
    <script>
      var csrfToken = '{{ session.csrf_token }}';
      {% if g.user %}
      var authUserId = {{ g.user.id }};
      {% endif %}
    </script>
</head>
<body>
    <div id="shell" class="pure-g">
        <div id="control-sidebar" class="sidebar pure-u-1-3 pure-u-md-1-4">
                 {% if session.auth_user %} {# detect if we need to show the error message #}
                 <h1>Welcome, {{ g.user.name }}!</h1>
                <div id="buttons">
                    <a href="/logout" class = "pure-button side-buttons">Log Out</a><br>
                    <a href="/" class = "pure-button side-buttons">Home</a><br>
                    <a href="/post" class = "pure-button side-buttons">Post a photo</a><br>
                    <a href="/edit_profile" class = "pure-button side-buttons">Edit Profile</a><br>
                    <a href="/u/{{ g.user.name }}" class = "pure-button side-buttons">Show Profile</a><br>

                </div>
            {% else %}
                <h1>You are logged out, please log in.</h1>
                <h1 id="login"><a href="/login" class="pure-button">Log In</a></h1>
            {%  endif %}

        </div>

        <main class="main pure-u-2-3 pure-u-md-2-3" role="main">
            {%  block content %}
                Fill me in!
            {%  endblock %}
        </main>
    </div>
</body>
</html>